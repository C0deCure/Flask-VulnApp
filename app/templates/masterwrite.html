{% extends "articleLayout.html" %}

{% block content %}
    <div id="main">
        <div id="board">
            <div id="title" class="article">
                <h1>
                    <a href="/board/{{ board.url }}">{{ board.name }}</a>
                </h1>
            </div>
            <div id="writeArticle">
                <form class="write" method="post" enctype="multipart/form-data">
                    {{ form.csrf_token }}
                    <p> 
                        <input name="title" placeholder="글 제목" class="title">
                    </p>
                    <p> 
                        <textarea name="text" placeholder="글 내용" class="smallplaceholder large"></textarea>
                    </p>

                    <div class="write_toolbar">
                        <ul>
                            <li>
                                <label for="file_upload" class="toolbar_button" title="파일 첨부">
                                    <i class="fa-solid fa-paperclip"></i>
                                </label>
                            </li>
                        </ul>
                    </div>

                    <input type="file" id="file_upload" name="file_upload" style="display: none;">

                    <div id="file_name_display" style="margin-top: 5px; font-size: 0.9em; color: #555;"></div>

                    <input type="submit" class="submit">
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
{{ super() }} <script type='text/javascript'>
document.getElementById('file_upload').addEventListener('change', function() {
    if (this.files && this.files.length > 0) {
        // 파일 이름을 표시합니다.
        document.getElementById('file_name_display').textContent = '첨부된 파일: ' + this.files[0].name;
    } else {
        // 파일 선택을 취소한 경우, 텍스트를 지웁니다.
        document.getElementById('file_name_display').textContent = '';
    }
});
</script>
{% endblock %}