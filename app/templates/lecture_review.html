<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>{{ lec.name }} - 강의평 작성</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style1.css') }}">
  <style>
    /* --- 기본 레이아웃 --- */
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; margin: 0; color: #222; background-color: #f8f9fa; }
    .container { max-width: 800px; margin: 24px auto; padding: 0 16px; }
    .meta { color: #666; font-size: 14px; margin-bottom: 16px; }
    .section { border: 1px solid #e9ecef; border-radius: 12px; padding: 24px; margin-top: 14px; background-color: #fff; }

    /* --- 폼 요소 --- */
    .form-group { margin-bottom: 24px; }
    .form-label { display: block; font-weight: 600; margin-bottom: 10px; font-size: 16px; color: #495057; text-align: center; }
    textarea, select { width: 100%; box-sizing: border-box; border: 1px solid #ced4da; border-radius: 8px; padding: 12px; font-size: 15px; font-family: inherit; }
    textarea { min-height: 120px; }

    /* --- 별점 UI --- */
    .rating-wrapper { display: flex; justify-content: center; align-items: center; gap: 12px; }
    .star-rating { display: flex; flex-direction: row-reverse; }
    .star-rating input { display: none; }
    .star-rating label { font-size: 32px; color: #e0e0e0; cursor: pointer; padding: 0 4px; transition: color 0.2s; }
    .star-rating input:checked ~ label { color: #fcc419; }
    .rating-display { font-size: 15px; color: #888; font-weight: 500; display: flex; align-items: center; }

    /* 선택 버튼 (Pill) */
    .pill-group { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
    .pill input { display: none; }
    .pill span { display: block; padding: 10px 18px; border: 1px solid #ced4da; border-radius: 50px; cursor: pointer; font-size: 14px; }
    .pill input:checked + span { background-color: #f1f3f5; border-color: #adb5bd; font-weight: 500; }
    
    /* --- 하단 안내 문구 스타일 (추가) --- */
    .guides {
      list-style: none;
      padding: 0;
      margin: 24px 0;
      font-size: 14px;
      color: #6c757d;
      line-height: 1.7;
    }
    .guides strong {
      color: #d94132; /* 버튼과 비슷한 빨간색 계열 */
      font-weight: 600;
    }

    /* 제출 버튼 */
    /* 제출 버튼 */
.submit-btn { 
  width: 70%; /* 이 값을 50% 등으로 수정 */
  padding: 12px; /* 이 값을 12px 등으로 수정 */
  border: none; 
  border-radius: 8px; 
  background: #e6493b; 
  color: #fff; 
  font-size: 17px; 
  font-weight: 600; 
  cursor: pointer; 
  margin-top: 16px; 
}
  </style>
</head>
<body>
  {% include 'partials/_topbar.html' %}

  <div class="container">
    <h2 style="margin:6px 0 2px 0;">{{ lec.name }}</h2>
    <div class="meta">{{ lec.professor }} · {{ lec.campus or '-' }}</div>

    <div class="section">
      <form method="post" action="{{ url_for('lecture.lecture_review_create', lecture_id=lec.lecture_id) }}">
        
        <div class="form-group">
          <label class="form-label">종합 평가</label>
          <div class="rating-wrapper">
            <div class="star-rating">
              <input type="radio" name="rating" id="star5" value="5"><label for="star5">★</label>
              <input type="radio" name="rating" id="star4" value="4"><label for="star4">★</label>
              <input type="radio" name="rating" id="star3" value="3"><label for="star3">★</label>
              <input type="radio" name="rating" id="star2" value="2"><label for="star2">★</label>
              <input type="radio" name="rating" id="star1" value="1"><label for="star1">★</label>
            </div>
            <div class="rating-display">
              <span id="ratingValue">0</span> / 5
            </div>
          </div>
        </div>

        <div class="form-group">
          <textarea name="content" placeholder="이 강의에 대한 총평을 작성해주세요." required></textarea>
        </div>

        <div class="form-group" style="text-align: center;">
          <label class="form-label">언제 수강했나요?</label>
          <select name="semester" required style="max-width: 400px; margin: 0 auto;">
            <option value="" disabled selected>수강 학기 선택</option>
            <option>2025-2</option>
            <option>2025-1</option>
            <option>2024-2</option>
            <option>2024-1</option>
            <option>2023-2</option>
            <option>2023-1</option>
          </select>
        </div>
        
        <div class="form-group" style="text-align: center;">
          <label class="form-label">과제는 많은가요?</label>
          <div class="pill-group">
            <label class="pill"><input type="radio" name="homework" value="많음"><span>많음</span></label>
            <label class="pill"><input type="radio" name="homework" value="보통"><span>보통</span></label>
            <label class="pill"><input type="radio" name="homework" value="없음"><span>없음</span></label>
          </div>
        </div>
        
        <div class="form-group" style="text-align: center;">
          <label class="form-label">조모임은 많은가요?</label>
          <div class="pill-group">
            <label class="pill"><input type="radio" name="team_project" value="많음"><span>많음</span></label>
            <label class="pill"><input type="radio" name="team_project" value="보통"><span>보통</span></label>
            <label class="pill"><input type="radio" name="team_project" value="없음"><span>없음</span></label>
          </div>
        </div>

        <div class="form-group" style="text-align: center;">
          <label class="form-label">성적은 어떻게 주시나요?</label>
          <div class="pill-group">
            <label class="pill"><input type="radio" name="grading" value="너그러움"><span>너그러움</span></label>
            <label class="pill"><input type="radio" name="grading" value="보통"><span>보통</span></label>
            <label class="pill"><input type="radio" name="grading" value="깐깐함"><span>깐깐함</span></label>
          </div>
        </div>
        
        <div class="form-group" style="text-align: center;">
          <label class="form-label">출석은 어떻게 확인하나요?</label>
          <div class="pill-group">
            <label class="pill"><input type="checkbox" name="attendance" value="복합적"><span>복합적</span></label>
            <label class="pill"><input type="checkbox" name="attendance" value="직접호명"><span>직접호명</span></label>
            <label class="pill"><input type="checkbox" name="attendance" value="지정좌석"><span>지정좌석</span></label>
            <label class="pill"><input type="checkbox" name="attendance" value="전자출결"><span>전자출결</span></label>
            <label class="pill"><input type="checkbox" name="attendance" value="반영안함"><span>반영안함</span></label>
          </div>
        </div>

        <div class="form-group" style="text-align: center;">
          <label class="form-label">시험은 몇 번 보나요?</label>
          <div class="pill-group">
            <label class="pill"><input type="radio" name="exam_count" value="네 번 이상"><span>네 번 이상</span></label>
            <label class="pill"><input type="radio" name="exam_count" value="세 번"><span>세 번</span></label>
            <label class="pill"><input type="radio" name="exam_count" value="두 번"><span>두 번</span></label>
            <label class="pill"><input type="radio" name="exam_count" value="한 번"><span>한 번</span></label>
            <label class="pill"><input type="radio" name="exam_count" value="없음"><span>없음</span></label>
          </div>
        </div>

        <ul class="guides">
          <li>※ 강의평을 등록하면 <strong>10 포인트</strong>가 적립됩니다.</li>
          <li>※ <strong>수정 및 삭제가 불가능</strong>하므로 신중히 작성해주세요.</li>
          <li>※ 허위, 중복, 저작권 침해, 성의없는 내용을 작성할 경우, 서비스 이용이 제한될 수 있습니다.</li>
        </ul>

        <button type="submit" class="submit-btn">평가하기</button>
      </form>
    </div>
  </div>

  <script>
    // 별점 라디오 버튼들을 모두 선택
    const ratingInputs = document.querySelectorAll('.star-rating input[name="rating"]');
    // 점수를 표시할 span 태그를 선택
    const ratingValueSpan = document.getElementById('ratingValue');

    // 각 라디오 버튼에 이벤트 리스너 추가
    ratingInputs.forEach(input => {
      input.addEventListener('change', (event) => {
        // 버튼의 값이 변경되면(클릭되면), span 태그의 텍스트를 해당 버튼의 value로 변경
        ratingValueSpan.textContent = event.target.value;
      });
    });
  </script>
</body>
</html>